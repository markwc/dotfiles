


<!DOCTYPE html>
<html>
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# githubog: http://ogp.me/ns/fb/githubog#">
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>jwiegley/use-package · GitHub</title>
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub" />
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub" />
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-114.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-144.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144.png" />
    <link rel="logo" type="image/svg" href="https://github-media-downloads.s3.amazonaws.com/github-logo.svg" />
    <meta property="og:image" content="https://github.global.ssl.fastly.net/images/modules/logos_page/Octocat.png">
    <meta name="hostname" content="github-fe111-cp1-prd.iad.github.net">
    <meta name="ruby" content="ruby 1.9.3p194-tcs-github-tcmalloc (2012-05-25, TCS patched 2012-05-27, GitHub v1.0.36) [x86_64-linux]">
    <link rel="assets" href="https://github.global.ssl.fastly.net/">
    <link rel="conduit-xhr" href="https://ghconduit.com:25035/">
    <link rel="xhr-socket" href="/_sockets" />
    


    <meta name="msapplication-TileImage" content="/windows-tile.png" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta name="selected-link" value="repo_source" data-pjax-transient />
    <meta content="collector.githubapp.com" name="octolytics-host" /><meta content="collector-cdn.github.com" name="octolytics-script-host" /><meta content="github" name="octolytics-app-id" /><meta content="80AAE00A:1FA7:2682E0EE:52619EBC" name="octolytics-dimension-request_id" />
    

    
    
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />

    <meta content="authenticity_token" name="csrf-param" />
<meta content="+2LP4rrihV/j8kGIMFISwTpgrasrDMG6z2+T4qUXcnQ=" name="csrf-token" />

    <link href="https://github.global.ssl.fastly.net/assets/github-4b2d5bd523c073b9955bbb0036c2845c98f8e604.css" media="all" rel="stylesheet" type="text/css" />
    <link href="https://github.global.ssl.fastly.net/assets/github2-d7d75e69f99956b749f82d7790ca779647475bd9.css" media="all" rel="stylesheet" type="text/css" />
    

    

      <script src="https://github.global.ssl.fastly.net/assets/frameworks-8a61e23841d9e5ecc084748ec552e548cd05c977.js" type="text/javascript"></script>
      <script src="https://github.global.ssl.fastly.net/assets/github-a3b3709d87ed3ca2cd30bf660f8567ac67249e1e.js" type="text/javascript"></script>
      
      <meta http-equiv="x-pjax-version" content="6451ac2d42cbc087b3ef452ef7eb93be">

        <meta property="og:title" content="use-package"/>
  <meta property="og:type" content="githubog:gitrepository"/>
  <meta property="og:url" content="https://github.com/jwiegley/use-package"/>
  <meta property="og:image" content="https://github.global.ssl.fastly.net/images/gravatars/gravatar-user-420.png"/>
  <meta property="og:site_name" content="GitHub"/>
  <meta property="og:description" content="A use-package declaration for simplifying your .emacs"/>

  <meta name="description" content="A use-package declaration for simplifying your .emacs" />

  <meta content="8460" name="octolytics-dimension-user_id" /><meta content="jwiegley" name="octolytics-dimension-user_login" /><meta content="4690846" name="octolytics-dimension-repository_id" /><meta content="jwiegley/use-package" name="octolytics-dimension-repository_nwo" /><meta content="true" name="octolytics-dimension-repository_public" /><meta content="false" name="octolytics-dimension-repository_is_fork" /><meta content="4690846" name="octolytics-dimension-repository_network_root_id" /><meta content="jwiegley/use-package" name="octolytics-dimension-repository_network_root_nwo" />
  <link href="https://github.com/jwiegley/use-package/commits/master.atom" rel="alternate" title="Recent Commits to use-package:master" type="application/atom+xml" />

  </head>


  <body class="logged_out  env-production windows vis-public">
    <div class="wrapper">
      
      
      


      
      <div class="header header-logged-out">
  <div class="container clearfix">

    <a class="header-logo-wordmark" href="https://github.com/">
      <span class="mega-octicon octicon-logo-github"></span>
    </a>

    <div class="header-actions">
        <a class="button primary" href="/signup">Sign up</a>
      <a class="button signin" href="/login?return_to=%2Fjwiegley%2Fuse-package">Sign in</a>
    </div>

    <div class="command-bar js-command-bar  in-repository">

      <ul class="top-nav">
          <li class="explore"><a href="/explore">Explore</a></li>
        <li class="features"><a href="/features">Features</a></li>
          <li class="enterprise"><a href="https://enterprise.github.com/">Enterprise</a></li>
          <li class="blog"><a href="/blog">Blog</a></li>
      </ul>
        <form accept-charset="UTF-8" action="/search" class="command-bar-form" id="top_search_form" method="get">

<input type="text" data-hotkey=" s" name="q" id="js-command-bar-field" placeholder="Search or type a command" tabindex="1" autocapitalize="off"
    
    
      data-repo="jwiegley/use-package"
      data-branch="master"
      data-sha="166ee40a4cef3adff6be96f4b262d03f4cee661a"
  >

    <input type="hidden" name="nwo" value="jwiegley/use-package" />

    <div class="select-menu js-menu-container js-select-menu search-context-select-menu">
      <span class="minibutton select-menu-button js-menu-target">
        <span class="js-select-button">This repository</span>
      </span>

      <div class="select-menu-modal-holder js-menu-content js-navigation-container">
        <div class="select-menu-modal">

          <div class="select-menu-item js-navigation-item js-this-repository-navigation-item selected">
            <span class="select-menu-item-icon octicon octicon-check"></span>
            <input type="radio" class="js-search-this-repository" name="search_target" value="repository" checked="checked" />
            <div class="select-menu-item-text js-select-button-text">This repository</div>
          </div> <!-- /.select-menu-item -->

          <div class="select-menu-item js-navigation-item js-all-repositories-navigation-item">
            <span class="select-menu-item-icon octicon octicon-check"></span>
            <input type="radio" name="search_target" value="global" />
            <div class="select-menu-item-text js-select-button-text">All repositories</div>
          </div> <!-- /.select-menu-item -->

        </div>
      </div>
    </div>

  <span class="octicon help tooltipped downwards" title="Show command bar help">
    <span class="octicon octicon-question"></span>
  </span>


  <input type="hidden" name="ref" value="cmdform">

</form>
    </div>

  </div>
</div>


      


          <div class="site" itemscope itemtype="http://schema.org/WebPage">
    
    <div class="pagehead repohead instapaper_ignore readability-menu">
      <div class="container">
        

<ul class="pagehead-actions">


  <li>
  <a href="/login?return_to=%2Fjwiegley%2Fuse-package"
  class="minibutton with-count js-toggler-target star-button entice tooltipped upwards"
  title="You must be signed in to use this feature" rel="nofollow">
  <span class="octicon octicon-star"></span>Star
</a>
<a class="social-count js-social-count" href="/jwiegley/use-package/stargazers">
  75
</a>

  </li>

    <li>
      <a href="/login?return_to=%2Fjwiegley%2Fuse-package"
        class="minibutton with-count js-toggler-target fork-button entice tooltipped upwards"
        title="You must be signed in to fork a repository" rel="nofollow">
        <span class="octicon octicon-git-branch"></span>Fork
      </a>
      <a href="/jwiegley/use-package/network" class="social-count">
        21
      </a>
    </li>
</ul>

        <h1 itemscope itemtype="http://data-vocabulary.org/Breadcrumb" class="entry-title public">
          <span class="repo-label"><span>public</span></span>
          <span class="mega-octicon octicon-repo"></span>
          <span class="author">
            <a href="/jwiegley" class="url fn" itemprop="url" rel="author"><span itemprop="title">jwiegley</span></a>
          </span>
          <span class="repohead-name-divider">/</span>
          <strong><a href="/jwiegley/use-package" class="js-current-repository js-repo-home-link">use-package</a></strong>

          <span class="page-context-loader">
            <img alt="Octocat-spinner-32" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
          </span>

        </h1>
      </div><!-- /.container -->
    </div><!-- /.repohead -->

    <div class="container">

      <div class="repository-with-sidebar repo-container with-full-navigation">

        <div class="repository-sidebar">
            

<div class="repo-nav repo-nav-full js-repository-container-pjax js-octicon-loaders">
  <div class="repo-nav-contents">
    <ul class="repo-menu">
      <li class="tooltipped leftwards" title="Code">
        <a href="/jwiegley/use-package" aria-label="Code" class="js-selected-navigation-item selected" data-gotokey="c" data-pjax="true" data-selected-links="repo_source repo_downloads repo_commits repo_tags repo_branches /jwiegley/use-package">
          <span class="octicon octicon-code"></span> <span class="full-word">Code</span>
          <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>

        <li class="tooltipped leftwards" title="Issues">
          <a href="/jwiegley/use-package/issues" aria-label="Issues" class="js-selected-navigation-item js-disable-pjax" data-gotokey="i" data-selected-links="repo_issues /jwiegley/use-package/issues">
            <span class="octicon octicon-issue-opened"></span> <span class="full-word">Issues</span>
            <span class='counter'>12</span>
            <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
</a>        </li>

      <li class="tooltipped leftwards" title="Pull Requests"><a href="/jwiegley/use-package/pulls" aria-label="Pull Requests" class="js-selected-navigation-item js-disable-pjax" data-gotokey="p" data-selected-links="repo_pulls /jwiegley/use-package/pulls">
            <span class="octicon octicon-git-pull-request"></span> <span class="full-word">Pull Requests</span>
            <span class='counter'>1</span>
            <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>


    </ul>
    <div class="repo-menu-separator"></div>
    <ul class="repo-menu">

      <li class="tooltipped leftwards" title="Pulse">
        <a href="/jwiegley/use-package/pulse" aria-label="Pulse" class="js-selected-navigation-item " data-pjax="true" data-selected-links="pulse /jwiegley/use-package/pulse">
          <span class="octicon octicon-pulse"></span> <span class="full-word">Pulse</span>
          <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>

      <li class="tooltipped leftwards" title="Graphs">
        <a href="/jwiegley/use-package/graphs" aria-label="Graphs" class="js-selected-navigation-item " data-pjax="true" data-selected-links="repo_graphs repo_contributors /jwiegley/use-package/graphs">
          <span class="octicon octicon-graph"></span> <span class="full-word">Graphs</span>
          <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>

      <li class="tooltipped leftwards" title="Network">
        <a href="/jwiegley/use-package/network" aria-label="Network" class="js-selected-navigation-item js-disable-pjax" data-selected-links="repo_network /jwiegley/use-package/network">
          <span class="octicon octicon-git-branch"></span> <span class="full-word">Network</span>
          <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>
    </ul>


  </div>
</div>

            <div class="only-with-full-nav">
              

  

<div class="clone-url open"
  data-protocol-type="http"
  data-url="/users/set_protocol?protocol_selector=http&amp;protocol_type=clone">
  <h3><strong>HTTPS</strong> clone URL</h3>
  <div class="clone-url-box">
    <input type="text" class="clone js-url-field"
           value="https://github.com/jwiegley/use-package.git" readonly="readonly">

    <span class="js-zeroclipboard url-box-clippy minibutton zeroclipboard-button" data-clipboard-text="https://github.com/jwiegley/use-package.git" data-copied-hint="copied!" title="copy to clipboard"><span class="octicon octicon-clippy"></span></span>
  </div>
</div>

  

<div class="clone-url "
  data-protocol-type="subversion"
  data-url="/users/set_protocol?protocol_selector=subversion&amp;protocol_type=clone">
  <h3><strong>Subversion</strong> checkout URL</h3>
  <div class="clone-url-box">
    <input type="text" class="clone js-url-field"
           value="https://github.com/jwiegley/use-package" readonly="readonly">

    <span class="js-zeroclipboard url-box-clippy minibutton zeroclipboard-button" data-clipboard-text="https://github.com/jwiegley/use-package" data-copied-hint="copied!" title="copy to clipboard"><span class="octicon octicon-clippy"></span></span>
  </div>
</div>


<p class="clone-options">You can clone with
      <a href="#" class="js-clone-selector" data-protocol="http">HTTPS</a>,
      or <a href="#" class="js-clone-selector" data-protocol="subversion">Subversion</a>.
  <span class="octicon help tooltipped upwards" title="Get help on which URL is right for you.">
    <a href="https://help.github.com/articles/which-remote-url-should-i-use">
    <span class="octicon octicon-question"></span>
    </a>
  </span>
</p>


  <a href="http://windows.github.com" class="minibutton sidebar-button">
    <span class="octicon octicon-device-desktop"></span>
    Clone in Desktop
  </a>

              <a href="/jwiegley/use-package/archive/master.zip"
                 class="minibutton sidebar-button"
                 title="Download this repository as a zip file"
                 rel="nofollow">
                <span class="octicon octicon-cloud-download"></span>
                Download ZIP
              </a>
            </div>
        </div><!-- /.repository-sidebar -->

        <div id="js-repo-pjax-container" class="repository-content context-loader-container" data-pjax-container>
          

<span id="js-show-full-navigation"></span>

<div class="repository-meta js-details-container ">
    <div class="repository-description js-details-show">
      <p>A use-package declaration for simplifying your .emacs</p>
    </div>



</div>

<div class="capped-box overall-summary ">

  <div class="stats-switcher-viewport js-stats-switcher-viewport">

    <ul class="numbers-summary">
      <li class="commits">
        <a data-pjax href="/jwiegley/use-package/commits/master">
          <span class="num">
            <span class="octicon octicon-history"></span>
            106
          </span>
          commits
        </a>
      </li>
      <li>
        <a data-pjax href="/jwiegley/use-package/branches">
          <span class="num">
            <span class="octicon octicon-git-branch"></span>
            1
          </span>
          branch
        </a>
      </li>

      <li>
        <a data-pjax href="/jwiegley/use-package/releases">
          <span class="num">
            <span class="octicon octicon-tag"></span>
            0
          </span>
          releases
        </a>
      </li>

      <li>

  <a href="/jwiegley/use-package/graphs/contributors">
    <span class="num">
      <span class="octicon octicon-organization"></span>
      11
    </span>
    contributors
  </a>
      </li>
    </ul>

      <div class="repository-lang-stats">
        <ol class="repository-lang-stats-numbers">
          <li>
              <a href="/jwiegley/use-package/search?l=emacs%20lisp">
                <span class="color-block language-color" style="background-color:#c065db;"></span>
                <span class="lang">Emacs Lisp</span>
                <span class="percent">100%</span>
              </a>
          </li>
        </ol>
      </div>
  </div>

</div>

  <a href="#"
     class="repository-lang-stats-graph js-toggle-lang-stats tooltipped downwards"
     title="Show language statistics"
     style="background-color:#c065db">
  <span class="language-color" style="width:100%; background-color:#c065db;" itemprop="keywords">Emacs Lisp</span>
  </a>



<div class="file-navigation in-mid-page">
    <a href="/jwiegley/use-package/compare" aria-label="Compare, review, create a pull request" class="minibutton compact primary tooltipped downwards" title="Compare &amp; review" data-pjax>
      <span class="octicon octicon-git-compare"></span>
    </a>

  
  

<div class="select-menu js-menu-container js-select-menu" >
  <span class="minibutton select-menu-button js-menu-target" data-hotkey="w"
    data-master-branch="master"
    data-ref="master"
    role="button" aria-label="Switch branches or tags" tabindex="0">
    <span class="octicon octicon-git-branch"></span>
    <i>branch:</i>
    <span class="js-select-button">master</span>
  </span>

  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax>

    <div class="select-menu-modal">
      <div class="select-menu-header">
        <span class="select-menu-title">Switch branches/tags</span>
        <span class="octicon octicon-remove-close js-menu-close"></span>
      </div> <!-- /.select-menu-header -->

      <div class="select-menu-filters">
        <div class="select-menu-text-filter">
          <input type="text" aria-label="Filter branches/tags" id="context-commitish-filter-field" class="js-filterable-field js-navigation-enable" placeholder="Filter branches/tags">
        </div>
        <div class="select-menu-tabs">
          <ul>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="branches" class="js-select-menu-tab">Branches</a>
            </li>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="tags" class="js-select-menu-tab">Tags</a>
            </li>
          </ul>
        </div><!-- /.select-menu-tabs -->
      </div><!-- /.select-menu-filters -->

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches">

        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <div class="select-menu-item js-navigation-item selected">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/jwiegley/use-package/tree/master"
                 data-name="master"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target"
                 title="master">master</a>
            </div> <!-- /.select-menu-item -->
        </div>

          <div class="select-menu-no-results">Nothing to show</div>
      </div> <!-- /.select-menu-list -->

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">
        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


        </div>

        <div class="select-menu-no-results">Nothing to show</div>
      </div> <!-- /.select-menu-list -->

    </div> <!-- /.select-menu-modal -->
  </div> <!-- /.select-menu-modal-holder -->
</div> <!-- /.select-menu -->


  <div class="breadcrumb"><span class='repo-root js-repo-root'><span itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="/jwiegley/use-package" data-branch="master" data-direction="back" data-pjax="true" itemscope="url"><span itemprop="title">use-package</span></a></span></span><span class="separator"> / </span><form action="/login?return_to=%2Fjwiegley%2Fuse-package" class="js-new-blob-form tooltipped rightwards new-file-link" method="post" title="Sign in to make or propose changes"><span aria-label="Sign in to make or propose changes" class="js-new-blob-submit octicon octicon-file-add" data-test-id="create-new-git-file" role="button"></span></form></div>
</div>

  

<a href="/jwiegley/use-package/find/master"
  data-hotkey="t" class="js-show-file-finder" style="display:none" data-pjax>Show File Finder</a>
<div class="bubble files-bubble">
  <table class="files" data-pjax>
    <thead>


  <div class="commit commit-tease js-details-container" >
    <p class="commit-title ">
        <a href="/jwiegley/use-package/commit/1597d0665739e9ba156f30a1835d3474272fbbe1" class="message" data-pjax="true" title="Merge pull request #61 from PhilHudson/master

Properly enable runtime dependency for :idle stanza (issue #60)">Merge pull request</a> <a href="https://github.com/jwiegley/use-package/pull/61" class="issue-link" title="Properly enable runtime dependency for :idle stanza (issue #60)">#61</a> <a href="/jwiegley/use-package/commit/1597d0665739e9ba156f30a1835d3474272fbbe1" class="message" data-pjax="true" title="Merge pull request #61 from PhilHudson/master

Properly enable runtime dependency for :idle stanza (issue #60)">from PhilHudson/master</a>
        <span class="hidden-text-expander inline"><a href="#" class="js-details-target">…</a></span>
    </p>
      <div class="commit-desc"><pre>Properly enable runtime dependency for :idle stanza (issue <a href="https://github.com/jwiegley/use-package/issues/60" class="issue-link" title="Runtime use-package dependency with :idle">#60</a>)</pre></div>
    <div class="commit-meta">
      <span class="js-zeroclipboard zeroclipboard-link" data-clipboard-text="1597d0665739e9ba156f30a1835d3474272fbbe1" data-copied-hint="copied!" title="Copy SHA"><span class="octicon octicon-clippy"></span></span>
      <a href="/jwiegley/use-package/commit/1597d0665739e9ba156f30a1835d3474272fbbe1" class="sha-block" data-pjax>latest commit <span class="sha">1597d06657</span></a>

      <div class="authorship">
        <img class="gravatar" height="20" src="https://1.gravatar.com/avatar/910fdec093deffebb92d7db019b5996a?d=https%3A%2F%2Fidenticons.github.com%2Fc2839bed26321da8b466c80a032e4714.png&amp;s=140" width="20" />
        <span class="author-name"><a href="/jwiegley" data-skip-pjax="true" rel="author">jwiegley</a></span>
        authored <time class="js-relative-date updated" datetime="2013-10-15T10:37:27-07:00" title="2013-10-15 10:37:27">October 15, 2013</time>

      </div>
    </div>
  </div>
    </thead>

    
<tbody class=""
  data-url="/jwiegley/use-package/file-list/master">
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="Octocat-spinner-32" class="spinner" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="/jwiegley/use-package/blob/master/README.md" class="js-directory-link" id="04c6e90faac2675aa89e2176d2eec7d8-0be6382a336f7f1005d71b5eadd498f499e34c55" title="README.md">README.md</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target"><a href="/jwiegley/use-package/commit/c878963b61d1a6afa1c788e780770b6613015eff" class="message" data-pjax="true" title="let :diminish &quot;string&quot; guess correct mode symbol">let :diminish "string" guess correct mode symbol</a></span>
      </td>
      <td class="age"><span class="css-truncate css-truncate-target"><time class="js-relative-date" datetime="2013-04-14T12:01:37-07:00" title="2013-04-14 12:01:37">April 14, 2013</time></span></td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="Octocat-spinner-32" class="spinner" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="/jwiegley/use-package/blob/master/bind-key.el" class="js-directory-link" id="3d96fc7952c93cad5e1f622bccab4538-2bae1bf0730e9178bfd26b86187cf5c6ef0027ee" title="bind-key.el">bind-key.el</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target"><a href="/jwiegley/use-package/commit/243416146aec0d4e32bb3d1d3d53eec81d8ccbb3" class="message" data-pjax="true" title="remove after-init-hook for override-global-mode

The INIT-VALUE argument to define-minor-mode is t, so it&#39;s enabled by
default.">remove after-init-hook for override-global-mode</a></span>
      </td>
      <td class="age"><span class="css-truncate css-truncate-target"><time class="js-relative-date" datetime="2013-10-12T11:25:49-07:00" title="2013-10-12 11:25:49">October 12, 2013</time></span></td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="Octocat-spinner-32" class="spinner" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="/jwiegley/use-package/blob/master/use-package.el" class="js-directory-link" id="7d8cebd9ba9fff18a51d6ca83a396f34-316e37ee33096832dfde150340625f6d46dfffcb" title="use-package.el">use-package.el</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target"><a href="/jwiegley/use-package/commit/7c302c1c66664be56c387ca21fedceb0ac917a20" class="message" data-pjax="true" title="Properly enable runtime dependency for :idle stanza (issue #60)

See issue #60.">Properly enable runtime dependency for :idle stanza (issue</a> <a href="https://github.com/jwiegley/use-package/issues/60" class="issue-link" title="Runtime use-package dependency with :idle">#60</a><a href="/jwiegley/use-package/commit/7c302c1c66664be56c387ca21fedceb0ac917a20" class="message" data-pjax="true" title="Properly enable runtime dependency for :idle stanza (issue #60)

See issue #60.">)</a></span>
      </td>
      <td class="age"><span class="css-truncate css-truncate-target"><time class="js-relative-date" datetime="2013-10-15T09:53:58-07:00" title="2013-10-15 09:53:58">October 15, 2013</time></span></td>
    </tr>
</tbody>

  </table>
</div>

  <div id="readme" class="clearfix announce instapaper_body md">
    <span class="name"><span class="octicon octicon-book"></span> README.md</span><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="use-package" class="anchor" href="#use-package"><span class="octicon octicon-link"></span></a><code>use-package</code>
</h1>

<p>The <code>use-package</code> declaration macro allows you to isolate package
configuration in your ".emacs" in a way that is performance-oriented and,
well, just tidy.  I created it because I have over 80 packages that I use
in Emacs, and things were getting difficult to manage.  Yet with this
utility my total load time is just under 1 second, with no loss of
functionality!</p>

<p>Here is the simplest <code>use-package</code> declaration:</p>

<pre><code>(use-package foo)
</code></pre>

<p>This loads in the package foo, but only if foo is available on your system.
If not, a warning is logged to your <code>*Messages*</code> buffer.  If it succeeds, a
message about "Loading foo" is logged -- along with the time it took to load
if that time is over 0.01s.</p>

<p>Use the :init keywoard to do some stuff to initialize foo, but only if foo
actually gets loaded:</p>

<pre><code>(use-package foo
  :init
  (progn
    (setq foo-variable t)
    (foo-mode 1)))
</code></pre>

<p>A very common thing to do when loading a module is to bind a key to primary
commands within that module:</p>

<pre><code>(use-package ace-jump-mode
  :bind ("C-." . ace-jump-mode))
</code></pre>

<p>This does two things: first, it creates autoload for the <code>ace-jump-mode</code>
command, and defers loading of <code>ace-jump-mode</code> until you actually use it.
Second, it binds the key <code>C-.</code> to that command.  After loading, you can use
<code>M-x describe-personal-keybindings</code> to see all such bindings you've set
throughout your Emacs.</p>

<p>A more literal way to do the exact same thing is:</p>

<pre><code>(use-package ace-jump-mode
  :commands ace-jump-mode
  :init
  (bind-key "C-." 'ace-jump-mode))
</code></pre>

<p>When you use the <code>:commands</code> keyword, it creates autoloads for those
commands and defers loading of the module until they are used.  In this
case, the <code>:init</code> form is always run -- even if ace-jump-mode might not be
on your system.  So remember to keep <code>:init</code> activities to only those that
would succeed either way.</p>

<p>Similar to <code>:bind</code>, you can use <code>:mode</code> and <code>:interpreter</code> to establish a
deferred binding within <code>auto-mode-alist</code> and <code>auto-interpreter-alist</code>.
The specifier to either keyword can be a single cons or a list:</p>

<pre><code>(use-package python-mode
  :mode ("\\.py$" . python-mode)
  :interpreter ("python" . python-mode))
</code></pre>

<p>If you aren't using <code>:commands</code>, <code>:bind</code>, <code>:mode</code>, or <code>:interpreter</code> (all
of which imply <code>:commands</code>), you can still defer loading with the <code>:defer</code>
keyword:</p>

<pre><code>(use-package ace-jump-mode
  :defer t
  :init
  (progn
    (autoload 'ace-jump-mode "ace-jump-mode" nil t)
    (bind-key "C-." 'ace-jump-mode)))
</code></pre>

<p>This does exactly the same thing as the other two commands above.</p>

<p>A companion to the <code>:init</code> keyword is <code>:config</code>.  Although <code>:init</code> always
happens in the case of deferred modules (which are likely to be the most
common kind), <code>:config</code> form only run after the module has been loaded by
Emacs:</p>

<pre><code>(use-package ace-jump-mode
  :bind ("C-." . ace-jump-mode)
  :config
  (message "Yay, ace-jump-mode was actually loaded!"))
</code></pre>

<p>You will see a "Configured..." message in your <code>*Messages*</code> log when a
package is configured, and a timing if the configuration time was longer
than 0.01s.  You should keep <code>:init</code> forms as simple as possible, and put
as much as you can get away with on the <code>:config</code> side.</p>

<p>You can have both <code>:init</code> and <code>:config</code>:</p>

<pre><code>(use-package haskell-mode
  :commands haskell-mode
  :init
  (add-to-list 'auto-mode-alist '("\\.l?hs$" . haskell-mode))
  :config
  (progn
    (use-package inf-haskell)
    (use-package hs-lint)))
</code></pre>

<p>In this case, I want to autoload the command <code>haskell-mode</code> from
"haskell-mode.el", add it to <code>auto-mode-alist</code> at the time ".emacs" is
loaded, but wait until after I've opened a Haskell file before loading
"inf-haskell.el" and "hs-lint.el".</p>

<p>The <code>:bind</code> keyword takes either a cons or a list of conses:</p>

<pre><code>(use-package hi-lock
  :bind (("M-o l" . highlight-lines-matching-regexp)
         ("M-o r" . highlight-regexp)
         ("M-o w" . highlight-phrase)))
</code></pre>

<p>The <code>:commands</code> keyword likewise takes either a symbol or a list of
symbols.</p>

<p>You can use the <code>:if</code> keyword to predicate the loading and initialization
of a module.  For example, I only want an <code>edit-server</code> running for my
main, graphical Emacs, not for Emacsen I may start at the command line:</p>

<pre><code>(use-package edit-server
  :if window-system
  :init
  (progn
    (add-hook 'after-init-hook 'server-start t)
    (add-hook 'after-init-hook 'edit-server-start t)))
</code></pre>

<p>The <code>:disabled</code> keyword can be used to turn off a module that you're having
difficulties with, or to stop loading something you're not really using at
the present time:</p>

<pre><code>(use-package ess-site
  :disabled t
  :commands R)
</code></pre>

<p>Another feature of <code>use-package</code> is that it always loads every file that it
can when your ".emacs" is being byte-compiled (if you do that, which I
recommend).  This helps to silence spurious warnings about unknown
variables and functions.</p>

<p>However, there are times when this is just not enough.  For those times,
use the <code>:defines</code> keyword to introduce empty variable definitions solely
for the sake of the byte-compiler:</p>

<pre><code>(use-package texinfo
  :defines texinfo-section-list
  :commands texinfo-mode
  :init
  (add-to-list 'auto-mode-alist '("\\.texi$" . texinfo-mode)))
</code></pre>

<p>If you need to silence a missing function warning, do it with an autoload
stub in your <code>:init</code> block:</p>

<pre><code>(use-package w3m
  :commands (w3m-browse-url w3m-session-crash-recovery-remove)
  :init
  (eval-when-compile
    (autoload 'w3m-search-escape-query-string "w3m-search")))
</code></pre>

<p>If your package needs a directory added to the <code>load-path</code> in order to load, use
<code>:load-path</code>.  It takes a string or a list of strings.  If the path is
relative, it will be expanded within <code>user-emacs-directory</code>:</p>

<pre><code>(use-package ess-site
  :disabled t
  :load-path "site-lisp/ess/lisp/"
  :commands R)
</code></pre>

<p>Lastly, <code>use-package</code> provides built-in support for the diminish utility,
if you have that installed.  It's purpose is to remove strings from your
mode-line that would otherwise always be there and provide no useful
information.  It is invoked with the <code>:diminish</code> keyword, which is passed
the minor mode symbol, a cons of the symbol and a replacement string, or
just a replacement string in which case the minor mode symbol is guessed
to be the package name with "-mode" at the end:</p>

<pre><code>(use-package abbrev
  :diminish abbrev-mode
  :init
  (if (file-exists-p abbrev-file-name)
      (quietly-read-abbrev-file))

  :config
  (add-hook 'expand-load-hook
            (lambda ()
              (add-hook 'expand-expand-hook 'indent-according-to-mode)
              (add-hook 'expand-jump-hook 'indent-according-to-mode))))
</code></pre>

<p>If you noticed that this declaration has neither a <code>:bind</code>, <code>:commands</code> or
<code>:defer</code> keyword: congratulations, you're an A student!  What it means is
that both the <code>:init</code> and <code>:config</code> forms will be executed when ".emacs" is
loaded, with no delays until later.  Is this useful?  Not really.  I just
happen to like separating my configuration into things that must happen at
startup time, and things that could potentioally wait until after the
actual load.  In this case, everything could be put inside <code>:init</code> and
there would be no difference.</p>

<h1>
<a name="for-el-get-users" class="anchor" href="#for-el-get-users"><span class="octicon octicon-link"></span></a>For el-get users</h1>

<p>You can use <code>use-package</code> as a way to create source definitions for el-get.
All that's needed is to add a <code>:type</code> keyword to your declaration.  When
this is present, certain keywords get translated to what el-get expects in
the <code>el-get-sources</code> list:</p>

<pre><code>:config   -&gt; :after
:requires -&gt; :depends
</code></pre>

<p>A <code>:name</code> will be added also, if one is not provided explicitly, which will
be the same as the name of the package.</p>

<p>But why would you want to use <code>use-package</code> when you have el-get?  My
answer is that I'd like to use el-get to install and update some packages,
but I don't want it managing configuration.  Just loading el-get -- without
calling <code>(el-get 'sync)</code> -- takes a quarter second on my machine.  That's 25% of
my load time!  <code>use-package</code> is designed for performance, so I only want to
load el-get when it's time to install or update on of my used packages.</p>

<p>Here is the <code>use-package</code> declaration I use for setting up el-get, but only
when I want to install or update:</p>

<pre><code>(defvar el-get-sources nil)

(use-package el-get
  :commands (el-get
             el-get-install
             el-get-update
             el-get-list-packages)
  :config
  (defun el-get-read-status-file ()
    (mapcar #'(lambda (entry)
                (cons (plist-get entry :symbol)
                      `(status "installed" recipe ,entry)))
            el-get-sources)))
</code></pre></article>
  </div>



        </div>

      </div><!-- /.repo-container -->
      <div class="modal-backdrop"></div>
    </div><!-- /.container -->
  </div><!-- /.site -->


    </div><!-- /.wrapper -->

      <div class="container">
  <div class="site-footer">
    <ul class="site-footer-links right">
      <li><a href="https://status.github.com/">Status</a></li>
      <li><a href="http://developer.github.com">API</a></li>
      <li><a href="http://training.github.com">Training</a></li>
      <li><a href="http://shop.github.com">Shop</a></li>
      <li><a href="/blog">Blog</a></li>
      <li><a href="/about">About</a></li>

    </ul>

    <a href="/">
      <span class="mega-octicon octicon-mark-github"></span>
    </a>

    <ul class="site-footer-links">
      <li>&copy; 2013 <span title="0.02851s from github-fe111-cp1-prd.iad.github.net">GitHub</span>, Inc.</li>
        <li><a href="/site/terms">Terms</a></li>
        <li><a href="/site/privacy">Privacy</a></li>
        <li><a href="/security">Security</a></li>
        <li><a href="/contact">Contact</a></li>
    </ul>
  </div><!-- /.site-footer -->
</div><!-- /.container -->


    <div class="fullscreen-overlay js-fullscreen-overlay" id="fullscreen_overlay">
  <div class="fullscreen-container js-fullscreen-container">
    <div class="textarea-wrap">
      <textarea name="fullscreen-contents" id="fullscreen-contents" class="js-fullscreen-contents" placeholder="" data-suggester="fullscreen_suggester"></textarea>
          <div class="suggester-container">
              <div class="suggester fullscreen-suggester js-navigation-container" id="fullscreen_suggester"
                 data-url="/jwiegley/use-package/suggestions/commit">
              </div>
          </div>
    </div>
  </div>
  <div class="fullscreen-sidebar">
    <a href="#" class="exit-fullscreen js-exit-fullscreen tooltipped leftwards" title="Exit Zen Mode">
      <span class="mega-octicon octicon-screen-normal"></span>
    </a>
    <a href="#" class="theme-switcher js-theme-switcher tooltipped leftwards"
      title="Switch themes">
      <span class="octicon octicon-color-mode"></span>
    </a>
  </div>
</div>



    <div id="ajax-error-message" class="flash flash-error">
      <span class="octicon octicon-alert"></span>
      <a href="#" class="octicon octicon-remove-close close ajax-error-dismiss"></a>
      Something went wrong with that request. Please try again.
    </div>

  </body>
</html>

